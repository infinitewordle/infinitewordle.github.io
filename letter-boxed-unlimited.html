<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Letter Boxed Game</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a237e 0%, #311b92 100%);
            color: #f5f5f5;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 900px;
            width: 100%;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 8px;
            color: #fff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 20px;
            line-height: 1.5;
        }

        .game-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
            margin-bottom: 25px;
        }

        .game-board {
            flex: 1;
            min-width: 320px;
            max-width: 450px;
        }

        .box-container {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .box-row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }

        .letter-box {
            width: 70px;
            height: 70px;
            margin: 8px;
            background: linear-gradient(145deg, #3949ab, #283593);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .letter-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            background: linear-gradient(145deg, #5c6bc0, #3949ab);
        }

        .letter-box.selected {
            background: linear-gradient(145deg, #ff9800, #f57c00);
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 152, 0, 0.5);
        }

        .letter-box.used {
            opacity: 0.5;
            background: linear-gradient(145deg, #757575, #616161);
        }

        .letter-box.last-selected {
            border: 3px solid #ffeb3b;
            box-shadow: 0 0 15px rgba(255, 235, 59, 0.7);
        }

        .game-controls {
            flex: 1;
            min-width: 320px;
            max-width: 450px;
            display: flex;
            flex-direction: column;
        }

        .controls-container {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .current-word {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            letter-spacing: 8px;
            text-transform: uppercase;
            font-weight: bold;
            color: #ffeb3b;
            box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .word-list {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 15px;
            flex-grow: 1;
            margin-bottom: 20px;
            overflow-y: auto;
            max-height: 200px;
            box-shadow: inset 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .word-list h3 {
            margin-bottom: 10px;
            color: #bb86fc;
            font-size: 1.3rem;
            border-bottom: 2px solid #bb86fc;
            padding-bottom: 5px;
        }

        .words {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .word {
            background: linear-gradient(145deg, #6200ea, #3700b3);
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: 500;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .btn {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-submit {
            background: linear-gradient(145deg, #4caf50, #2e7d32);
            color: white;
        }

        .btn-submit:hover {
            background: linear-gradient(145deg, #66bb6a, #388e3c);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .btn-clear {
            background: linear-gradient(145deg, #f44336, #c62828);
            color: white;
        }

        .btn-clear:hover {
            background: linear-gradient(145deg, #ef5350, #d32f2f);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(244, 67, 54, 0.4);
        }

        .btn-new-game {
            background: linear-gradient(145deg, #2196f3, #0d47a1);
            color: white;
            margin-top: 15px;
        }

        .btn-new-game:hover {
            background: linear-gradient(145deg, #42a5f5, #1565c0);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(33, 150, 243, 0.4);
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            flex-wrap: wrap;
            gap: 15px;
        }

        .info-box {
            flex: 1;
            min-width: 200px;
            text-align: center;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
        }

        .info-box h3 {
            color: #bb86fc;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .info-value {
            font-size: 2rem;
            font-weight: bold;
            color: #ffeb3b;
        }

        .rules {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin-top: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .rules h2 {
            color: #bb86fc;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .rules ol {
            padding-left: 20px;
            line-height: 1.6;
        }

        .rules li {
            margin-bottom: 10px;
        }

        .message {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        .message.success {
            background-color: #4caf50;
            color: white;
            opacity: 1;
        }

        .message.error {
            background-color: #f44336;
            color: white;
            opacity: 1;
        }

        .message.info {
            background-color: #2196f3;
            color: white;
            opacity: 1;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        @media (max-width: 768px) {
            .game-container {
                flex-direction: column;
                align-items: center;
            }
            
            .game-board, .game-controls {
                width: 100%;
                max-width: 100%;
            }
            
            .letter-box {
                width: 60px;
                height: 60px;
                font-size: 1.8rem;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }

        @media (max-width: 480px) {
            .letter-box {
                width: 50px;
                height: 50px;
                font-size: 1.6rem;
                margin: 5px;
            }
            
            .current-word {
                font-size: 2rem;
                letter-spacing: 5px;
            }
            
            .buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>LETTER BOXED</h1>
            <p class="subtitle">Connect letters to form words. Use all letters to win!</p>
        </header>
        
        <div class="game-container">
            <div class="game-board">
                <div class="box-container">
                    <div class="box-row">
                        <div class="letter-box" data-letter="S" data-side="top">S</div>
                        <div class="letter-box" data-letter="T" data-side="top">T</div>
                        <div class="letter-box" data-letter="R" data-side="top">R</div>
                    </div>
                    <div class="box-row">
                        <div class="letter-box" data-letter="A" data-side="left">A</div>
                        <div class="letter-box" data-letter="E" data-side="middle">E</div>
                        <div class="letter-box" data-letter="I" data-side="right">I</div>
                    </div>
                    <div class="box-row">
                        <div class="letter-box" data-letter="P" data-side="bottom">P</div>
                        <div class="letter-box" data-letter="L" data-side="bottom">L</div>
                        <div class="letter-box" data-letter="N" data-side="bottom">N</div>
                    </div>
                </div>
            </div>
            
            <div class="game-controls">
                <div class="controls-container">
                    <div class="current-word" id="current-word">Click letters to form a word</div>
                    
                    <div class="word-list">
                        <h3>Words Found</h3>
                        <div class="words" id="word-list"></div>
                    </div>
                    
                    <div class="buttons">
                        <button class="btn btn-submit" id="submit-btn">
                            <i class="fas fa-check"></i> Submit Word
                        </button>
                        <button class="btn btn-clear" id="clear-btn">
                            <i class="fas fa-times"></i> Clear
                        </button>
                    </div>
                    
                    <button class="btn btn-new-game" id="new-game-btn">
                        <i class="fas fa-redo"></i> New Game
                    </button>
                </div>
            </div>
        </div>
        
        <div class="game-info">
            <div class="info-box">
                <h3>Words Found</h3>
                <div class="info-value" id="word-count">0</div>
            </div>
            <div class="info-box">
                <h3>Letters Used</h3>
                <div class="info-value" id="letters-used">0/12</div>
            </div>
            <div class="info-box">
                <h3>Score</h3>
                <div class="info-value" id="score">0</div>
            </div>
        </div>
        
        <div class="rules">
            <h2>How to Play</h2>
            <ol>
                <li>Create words using letters from the box.</li>
                <li>Words must be at least 3 letters long.</li>
                <li>Consecutive letters cannot be from the same side of the box.</li>
                <li>Your next word must start with the last letter of your previous word.</li>
                <li>Use all 12 letters at least once to solve the puzzle!</li>
                <li>Click letters to select them, then submit your word.</li>
            </ol>
        </div>
        
        <footer>
            <p>Letter Boxed Game &copy; 2023 | Inspired by NYT Letter Boxed</p>
        </footer>
    </div>
    
    <div class="message" id="message"></div>

    <script>
        // Game state
        let gameState = {
            currentWord: [],
            wordsFound: [],
            lettersUsed: new Set(),
            lastLetter: '',
            score: 0,
            gameComplete: false
        };

        // Letter configuration
        const letters = [
            {letter: 'S', side: 'top'},
            {letter: 'T', side: 'top'},
            {letter: 'R', side: 'top'},
            {letter: 'A', side: 'left'},
            {letter: 'E', side: 'middle'},
            {letter: 'I', side: 'right'},
            {letter: 'P', side: 'bottom'},
            {letter: 'L', side: 'bottom'},
            {letter: 'N', side: 'bottom'}
        ];

        // Valid word list (simplified for demo)
        const validWords = [
            'STRAIN', 'PLANET', 'TRAIN', 'PLANE', 'STREP', 'PANEL', 
            'STRIPE', 'LEAP', 'NEAR', 'PEAR', 'PEAL', 'PEAN', 
            'TAPE', 'TARP', 'RIPEN', 'RENT', 'LENT', 'PANT', 
            'PART', 'ART', 'EAR', 'EAT', 'ATE', 'TEA', 'PAN', 
            'NAP', 'RAP', 'TAP', 'PET', 'SET', 'SIT', 'SIP', 
            'TIP', 'LIP', 'PIN', 'PIT', 'LIT', 'RIP', 'RAT', 
            'SAT', 'PAT', 'LET', 'NET', 'TEN', 'PEN', 'ANT'
        ];

        // DOM elements
        const letterBoxes = document.querySelectorAll('.letter-box');
        const currentWordElement = document.getElementById('current-word');
        const wordListElement = document.getElementById('word-list');
        const submitButton = document.getElementById('submit-btn');
        const clearButton = document.getElementById('clear-btn');
        const newGameButton = document.getElementById('new-game-btn');
        const wordCountElement = document.getElementById('word-count');
        const lettersUsedElement = document.getElementById('letters-used');
        const scoreElement = document.getElementById('score');
        const messageElement = document.getElementById('message');

        // Initialize game
        function initGame() {
            gameState = {
                currentWord: [],
                wordsFound: [],
                lettersUsed: new Set(),
                lastLetter: '',
                score: 0,
                gameComplete: false
            };
            
            // Reset UI
            updateUI();
            
            // Reset letter boxes
            letterBoxes.forEach(box => {
                box.classList.remove('selected', 'used', 'last-selected');
                box.style.pointerEvents = 'auto';
            });
            
            // Reset word list
            wordListElement.innerHTML = '<p>No words found yet. Start playing!</p>';
            
            showMessage('New game started! Click letters to form words.', 'info');
        }

        // Show temporary message
        function showMessage(text, type) {
            messageElement.textContent = text;
            messageElement.className = 'message ' + type;
            
            setTimeout(() => {
                messageElement.classList.remove('success', 'error', 'info');
            }, 3000);
        }

        // Update UI based on game state
        function updateUI() {
            // Update current word display
            if (gameState.currentWord.length === 0) {
                currentWordElement.textContent = gameState.lastLetter 
                    ? `Next word must start with: ${gameState.lastLetter}` 
                    : 'Click letters to form a word';
            } else {
                currentWordElement.textContent = gameState.currentWord.join('');
            }
            
            // Update word list
            if (gameState.wordsFound.length === 0) {
                wordListElement.innerHTML = '<p>No words found yet. Start playing!</p>';
            } else {
                wordListElement.innerHTML = gameState.wordsFound
                    .map(word => `<span class="word">${word}</span>`)
                    .join('');
            }
            
            // Update stats
            wordCountElement.textContent = gameState.wordsFound.length;
            lettersUsedElement.textContent = `${gameState.lettersUsed.size}/12`;
            scoreElement.textContent = gameState.score;
            
            // Update letter box states
            letterBoxes.forEach(box => {
                const letter = box.dataset.letter;
                box.classList.remove('last-selected');
                
                if (gameState.lastLetter === letter) {
                    box.classList.add('last-selected');
                }
                
                if (gameState.lettersUsed.has(letter)) {
                    box.classList.add('used');
                } else {
                    box.classList.remove('used');
                }
            });
            
            // Check for game completion
            if (gameState.lettersUsed.size === 12 && !gameState.gameComplete) {
                gameState.gameComplete = true;
                showMessage('Congratulations! You used all letters!', 'success');
            }
        }

        // Check if word is valid
        function isValidWord(word) {
            // Check minimum length
            if (word.length < 3) {
                showMessage('Words must be at least 3 letters long.', 'error');
                return false;
            }
            
            // Check if word exists in our dictionary
            if (!validWords.includes(word.toUpperCase())) {
                showMessage(`"${word}" is not a valid word.`, 'error');
                return false;
            }
            
            // Check if first letter matches last letter of previous word
            if (gameState.lastLetter && word[0].toUpperCase() !== gameState.lastLetter) {
                showMessage(`Next word must start with "${gameState.lastLetter}".`, 'error');
                return false;
            }
            
            // Check that consecutive letters are from different sides
            for (let i = 0; i < word.length - 1; i++) {
                const currentLetter = word[i].toUpperCase();
                const nextLetter = word[i + 1].toUpperCase();
                
                const currentBox = document.querySelector(`.letter-box[data-letter="${currentLetter}"]`);
                const nextBox = document.querySelector(`.letter-box[data-letter="${nextLetter}"]`);
                
                if (currentBox && nextBox && currentBox.dataset.side === nextBox.dataset.side) {
                    showMessage('Consecutive letters cannot be from the same side.', 'error');
                    return false;
                }
            }
            
            return true;
        }

        // Submit word
        function submitWord() {
            if (gameState.currentWord.length === 0) {
                showMessage('Please select at least 3 letters to form a word.', 'error');
                return;
            }
            
            const word = gameState.currentWord.join('');
            
            if (!isValidWord(word)) {
                return;
            }
            
            // Add word to found words
            gameState.wordsFound.push(word);
            
            // Update last letter
            gameState.lastLetter = word[word.length - 1].toUpperCase();
            
            // Add letters to used set
            for (let letter of word.toUpperCase()) {
                gameState.lettersUsed.add(letter);
            }
            
            // Calculate score (more points for longer words)
            gameState.score += word.length * 10;
            
            // Clear current word
            gameState.currentWord = [];
            
            // Update UI
            updateUI();
            
            // Show success message
            showMessage(`"${word}" added! Next word must start with "${gameState.lastLetter}"`, 'success');
        }

        // Clear current word
        function clearCurrentWord() {
            gameState.currentWord = [];
            letterBoxes.forEach(box => box.classList.remove('selected'));
            updateUI();
        }

        // Event listeners for letter boxes
        letterBoxes.forEach(box => {
            box.addEventListener('click', () => {
                if (gameState.gameComplete) return;
                
                const letter = box.dataset.letter;
                
                // Check if this letter can be selected (must follow last letter rule)
                if (gameState.currentWord.length === 0 && gameState.lastLetter) {
                    if (letter !== gameState.lastLetter) {
                        showMessage(`Next word must start with "${gameState.lastLetter}"`, 'error');
                        return;
                    }
                }
                
                // Check if letter is already selected in current word
                if (box.classList.contains('selected')) {
                    // If it's the last selected letter, allow deselecting
                    if (gameState.currentWord[gameState.currentWord.length - 1] === letter) {
                        box.classList.remove('selected');
                        gameState.currentWord.pop();
                        updateUI();
                    }
                    return;
                }
                
                // Check if consecutive letters are from the same side
                if (gameState.currentWord.length > 0) {
                    const lastLetter = gameState.currentWord[gameState.currentWord.length - 1];
                    const lastBox = document.querySelector(`.letter-box[data-letter="${lastLetter}"].selected`);
                    
                    if (lastBox && lastBox.dataset.side === box.dataset.side) {
                        showMessage('Consecutive letters cannot be from the same side.', 'error');
                        return;
                    }
                }
                
                // Add letter to current word
                box.classList.add('selected');
                gameState.currentWord.push(letter);
                updateUI();
            });
        });

        // Event listeners for buttons
        submitButton.addEventListener('click', submitWord);
        clearButton.addEventListener('click', clearCurrentWord);
        newGameButton.addEventListener('click', initGame);

        // Allow Enter key to submit word
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                submitWord();
            } else if (e.key === 'Escape') {
                clearCurrentWord();
            }
        });

        // Initialize the game
        initGame();

        // Easter egg: add some random valid words to the list
        function addValidWordsToMessage() {
            const sampleWords = validWords.filter(word => word.length >= 4).slice(0, 5);
            showMessage(`Try words like: ${sampleWords.join(', ')}`, 'info');
        }
        
        // Show sample words after 5 seconds
        setTimeout(addValidWordsToMessage, 5000);
    </script>
</body>
</html>
